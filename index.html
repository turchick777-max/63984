<!DOCTYPE html><!--  This site was created in Webflow. https://webflow.com  --><!--  Last Published: Mon Dec 29 2025 13:07:47 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="69396815efaae5adc8efcc82" data-wf-site="69396814efaae5adc8efcc0f" lang="en">
<head>
  <meta charset="utf-8">
  <title>AQUINTAQA® – Pre-NDA public website.</title>
  <meta content="A proven, scalable approach to desalination — eliminating membrane fouling, energy-intensive steps, and concentrated brine discharge. Independently validated. Full technical and commercial details available to qualified partners." name="description">
  <meta content="AQUINTAQA® – Pre-NDA public website." property="og:title">
  <meta content="A proven, scalable approach to desalination — eliminating membrane fouling, energy-intensive steps, and concentrated brine discharge. Independently validated. Full technical and commercial details available to qualified partners." property="og:description">
  <meta content="https://cdn.prod.website-files.com/69396814efaae5adc8efcc0f/6939867b4d14bba36c8a3c40_Frame%201.jpg" property="og:image">
  <meta content="AQUINTAQA® – Pre-NDA public website." property="twitter:title">
  <meta content="A proven, scalable approach to desalination — eliminating membrane fouling, energy-intensive steps, and concentrated brine discharge. Independently validated. Full technical and commercial details available to qualified partners." property="twitter:description">
  <meta property="og:type" content="website">
  <meta content="summary_large_image" name="twitter:card">
  <meta content="width=1440, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <!-- MOBILE: switch viewport to device-width on phones so mobile CSS fires -->
  <script>if(screen.width<768){document.querySelector('meta[name="viewport"]').setAttribute("content","width=device-width,initial-scale=1,viewport-fit=cover")}</script>
  <meta content="Webflow" name="generator">
  <!-- PERF: Preconnect to external origins for faster resource fetching -->
  <link rel="preconnect" href="https://d3e54v103j8qbb.cloudfront.net" crossorigin>
  <link rel="preconnect" href="https://prod.spline.design" crossorigin>
  <link rel="dns-prefetch" href="https://prod.spline.design">
  <!-- PERF: Preload critical fonts for faster LCP -->
  <link rel="preload" href="fonts/Onest-Regular.woff" as="font" type="font/woff" crossorigin>
  <link rel="preload" href="fonts/Onest-Medium.woff" as="font" type="font/woff" crossorigin>
  <link rel="preload" href="fonts/Onest-SemiBold.woff" as="font" type="font/woff" crossorigin>
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/aquintaqa.webflow.css" rel="stylesheet" type="text/css">
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
  <meta name="robots" content="index, follow">
  <meta name="author" content="wtw"><!--  HEAD CODE  -->
  <!-- Header icon overrides (moved from invalid location before <head>) -->
  <style>
    .w-dropdown-toggle { background: transparent !important; border: none !important; box-shadow: none !important; padding: 0 !important; }
    .w-dropdown-toggle:focus, .menu-button:focus { outline: none !important; }
    .menu-button { background: transparent !important; box-shadow: none !important; border: none !important; }
    .w-nav .w-container, .w-nav .container, .navbar .w-container, .navbar .container { display: flex !important; align-items: center !important; }
    .w-nav .w-nav-brand { margin-right: auto !important; }
    .w-nav .w-dropdown { margin-left: auto !important; margin-right: 6px !important; }
    .w-nav .w-nav-button { margin-left: 0 !important; }
    .w-nav .w-container, .navbar .w-container { padding-left: 32px !important; padding-right: 32px !important; }
    .navbar .w-dropdown .w-dropdown-toggle { display: flex !important; flex-direction: row !important; align-items: center !important; gap: 4px !important; padding-right: 0 !important; }
    .navbar .w-dropdown .icon-lang { order: 1 !important; margin: 0 !important; }
    .navbar .w-dropdown .icon.w-icon-dropdown-toggle, .navbar .w-icon-dropdown-toggle { order: 2 !important; margin: 0 !important; font-size: 8px !important; position: static !important; opacity: 0.7 !important; }
    .navbar .w-dropdown, .navbar .div-block-11, .navbar .menu-button { height: 24px !important; display: flex !important; align-items: center !important; justify-content: center !important; }
    .navbar .menu-button { padding: 0 !important; margin: 0 !important; transform: translateY(-6px) !important; }
    .navbar .w-dropdown { transform: translateY(-6px) !important; }
    
    /* PERF: Performance optimizations */
    body { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
    iframe { overflow: hidden !important; }
    section { overflow: hidden !important; }

    /* Desktop: lightweight containment, no will-change (handled by WebGL/iframe natively) */
    @media screen and (min-width: 768px) {
      section { contain: layout; }
    }
    
    /* Force desktop view on all devices - viewport only, no scroll */
    html, body {
      overflow-x: hidden !important;
    }
    
    /* Hide Spline instantly when scrolled away — no transition = no composite during scroll */
    .spline-content.hidden { 
      opacity: 0; 
      visibility: hidden; 
      pointer-events: none; 
    }

    /* =============================================
       MOBILE LAYOUT START
       Breakpoint: max-width 767px
       Desktop/tablet remain pixel-identical.
       SpaceX-style: clean, dark, native mobile.
       ============================================= */
    @media screen and (max-width: 767px) {

      /* ── HERO: hide sphere completely ── */
      .spline-content {
        display: none !important;
      }
      .se1 .sfera,
      .se1 .sfera.no {
        display: none !important;
      }

      /* ── Iframe sections: native mobile width ── */
      section[id$="-embed"] {
        min-height: auto !important;
        overflow: hidden !important;
        margin: 0 !important;
        padding: 0 !important;
      }

      section[id$="-embed"] iframe {
        width: 100% !important;
        transform: none !important;
        display: block !important;
        border: none !important;
      }

      /* Section heights for mobile content */
      #how-it-works-embed { min-height: 620px !important; }
      #hiw-iframe { height: 620px !important; }

      #quality-standards-embed { min-height: 980px !important; }
      #quality-iframe { height: 980px !important; }

      #validation-faq-embed { min-height: 960px !important; overflow: visible !important; }
      #validation-iframe { height: 960px !important; }

      #trl-snapshot-embed { min-height: 460px !important; overflow: visible !important; }
      #trl-iframe { height: 460px !important; }

      #video-embed { min-height: 700px !important; overflow: visible !important; }
      #video-iframe { height: 700px !important; }

      /* ── Footer ── */
      .footer2 {
        padding: 32px 0 !important;
      }
      .footer-2 {
        flex-direction: column !important;
        align-items: center !important;
        gap: 20px !important;
        padding: 0 20px !important;
        width: 100% !important;
      }
      .footer-2 .text-block-3 {
        font-size: 0.8rem !important;
        text-align: center !important;
        line-height: 1.7 !important;
        max-width: 90% !important;
      }
      .footer-2 .div-block-3 {
        justify-content: center !important;
        gap: 1.5rem !important;
      }
      .footer-2 .div-block-3 a {
        font-size: 0.85rem !important;
        color: rgba(255,255,255,.65) !important;
        text-decoration: none !important;
      }
    }
    /* MOBILE LAYOUT END */

    /* ── LANG DROPDOWN: bridge hover gap ── */
    .navbar > .w-dropdown .dropdown-list-lang {
      padding-top: 12px !important;
      margin-top: -4px !important;
    }
  </style>
  <link rel="stylesheet" href="css/consent.css" />
  <link rel="stylesheet" href="css/mobile.css" />
</head>
<body class="body">
  <div class="spline-content">
    <div class="sphere-fallback" id="sphere-fallback"><img src="images/sphere.png" alt="" width="540" height="540" loading="eager"></div>
    <!-- PERF: Lazy-load Spline scene. data-spline-url removed; loaded via IntersectionObserver -->
    <div class="spline-scene"
         id="spline-scene"
         data-w-id="9399c96b-cd7d-4fef-4d18-4d2d086db8ae"
         data-animation-type="spline"
         data-spline-url-lazy="https://prod.spline.design/8z6pBDvGF-zx6ta3/scene.splinecode?v=2"><canvas></canvas></div>
  </div>
  <!-- MOBILE: kill Spline entirely on phones — no WebGL, no canvas, no GPU load -->
  <script>(function(){if(window.innerWidth>=768)return;var el=document.getElementById('spline-scene');if(el){el.removeAttribute('data-spline-url-lazy');el.removeAttribute('data-spline-url');var c=el.querySelector('canvas');if(c)c.remove();el.style.display='none';}var sc=document.querySelector('.spline-content');if(sc)sc.style.display='none';})();</script>
  <div data-animation="over-right" class="menu w-nav" data-easing2="ease-out" data-easing="ease-in" data-collapse="all" style="opacity:0" data-w-id="98d6510c-f91b-7dee-6fcc-df3364ee5ebf" role="banner" data-duration="400">
    <div class="navbar w-container">
      <a href="#" class="logo w-inline-block"></a>
      <nav role="navigation" class="nav-menu-2 w-nav-menu">
        <div class="div-block-12">
          <a href="index.html" aria-current="page" class="link menu w-nav-link w--current">Home</a>
          <a href="technology.html" class="link menu w-nav-link">Technology</a>
          <a href="quality.html" class="link menu w-nav-link">Quality &amp; Validation</a>
          <a href="investor-access.html" class="link menu w-nav-link">Investor</a>
        </div>
      </nav>
      <div class="div-block-11">
        <div class="div-block">
          <div class="but-cont">
            <div class="menu-button w-nav-button">
              <div class="w-icon-nav-menu"></div>
            </div>
          </div>
        </div>
      </div>
      <div data-hover="true" data-delay="0" class="w-dropdown">
        <div class="link w-dropdown-toggle">
          <div class="icon w-icon-dropdown-toggle"></div>
          <div class="icon-lang"></div>
        </div>
        <nav class="dropdown-list-lang w-dropdown-list">
          <a href="#" class="link w-dropdown-link" id="lang-opt-en" onclick="setLang('en');return false;">ENG</a>
          <a href="#" class="link w-dropdown-link" id="lang-opt-ru" onclick="setLang('ru');return false;">RU</a>
        </nav>
      </div>
    </div>
  </div>
  <div>
    <div class="se1">
      <div class="noize">
        <div class="div1">
          <div class="colum-l">
            <div class="content-img">
              <div class="div-block-5"></div>
              <div class="text-block">Planet of 8+ billion people.<br></div>
              <div class="text-block _2">~97.5% of water is not drinkable without desalination.<br></div>
              <div class="div-block-17">
                <div class="text-block-2">&lt;1% share of quickly accessible freshwater.</div>
              </div>
              <div class="text-block lang-ru" style="display:none">На планете 8+ млрд людей и ~97,5% воды, непригодной для питья без опреснения.<br></div>
              <div class="div-block-17 lang-ru" style="display:none">
                <div class="text-block-2">Доля &lt;1% быстро доступной пресной воды.</div>
              </div>
              <div class="podpis">
                <div data-w-id="b925a8e9-1476-60d1-ad28-ab5ac1dae831" class="_1 no"></div>
              </div>
              <div data-w-id="b53a1e5d-6fdc-98e4-ec17-a2080318ba1a" class="sfera no"></div>
            </div>
          </div>
          <!-- Mobile: sphere poster + play (hidden on desktop) -->
          <div class="sphere-poster" id="sphere-poster">
            <div class="sphere-poster__stats">
              <p>Planet of 8+ billion people.</p>
              <p>~97.5% of water is not drinkable without desalination.</p>
            </div>
            <div class="sphere-poster__stats lang-ru" style="display:none">
              <p>На планете 8+ млрд людей и ~97,5% воды, непригодной для питья без опреснения.</p>
            </div>
            <div class="sphere-poster__visual">
              <div class="sphere-poster__orb"></div>
              <button class="sphere-poster__play" id="sphere-poster-play" aria-label="Explore">
                <svg viewBox="0 0 56 56" fill="none"><circle cx="28" cy="28" r="27" stroke="rgba(255,255,255,0.2)" stroke-width="1"/><path d="M23 18L41 28L23 38V18Z" fill="rgba(255,255,255,0.85)"/></svg>
              </button>
            </div>
            <span class="sphere-poster__caption">&lt;1% of Earth's water is quickly accessible freshwater</span>
            <span class="sphere-poster__caption lang-ru" style="display:none">Доля &lt;1% быстро доступной пресной воды</span>
          </div>

          <div class="colum-r">
            <h1 class="h1"><span class="spa">Next-generation desalination. </span></h1>
            <h1 class="h1 lang-ru" style="display:none"><span class="spa">Опреснение следующего<br>поколения. </span></h1>
            <div class="text">No RO. No thermal desalination.</div>
            <div class="text lang-ru" style="display:none">Без RO и термопроцессов.</div>
            <div class="div-block-4">
              <a href="executive-summary-viewer.html" target="_blank" class="link button _2 w-inline-block">
                <div>Executive Summary</div>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- HOW IT WORKS Section (embedded via iframe for pixel-perfect isolation) -->
    <section id="how-it-works-embed" style="width:100%;overflow:hidden;background:#F4F7FA;position:relative;z-index:10;min-height:920px;">
      <iframe 
        id="hiw-iframe"
        data-src="vendor/aq2nd7/index.html"
        loading="lazy"
        style="width:100%;height:920px;border:none;display:block;"
        scrolling="no"
        frameborder="0"
        allowtransparency="true"
      ></iframe>
    </section>

    <!-- QUALITY & STANDARDS Section (embedded via iframe for pixel-perfect isolation) -->
    <section id="quality-standards-embed" style="width:100%;overflow:hidden;background:#000000;position:relative;z-index:10;min-height:820px;">
      <iframe
        id="quality-iframe"
        data-src="vendor/aq3rd4/index.html"
        loading="lazy"
        style="width:100%;height:820px;border:none;display:block;overflow:hidden;"
        scrolling="no"
        frameborder="0"
        allowtransparency="true"
      ></iframe>
    </section>

    <!-- VALIDATION & FAQ Section (embedded via iframe for pixel-perfect isolation) -->
    <section id="validation-faq-embed" style="width:100%;overflow:hidden;background:#000000;position:relative;z-index:10;min-height:900px;">
      <iframe 
        id="validation-iframe"
        data-src="vendor/aq4th-validation/index.html"
        loading="lazy"
        style="width:100%;height:900px;border:none;display:block;"
        scrolling="no"
        frameborder="0"
        allowtransparency="true"
      ></iframe>
    </section>

    <!-- TRL SNAPSHOT Section (embedded via iframe) -->
    <section id="trl-snapshot-embed" style="width:100%;overflow:hidden;background:#FAFAFA;position:relative;z-index:10;min-height:900px;">
      <iframe
        id="trl-iframe"
        data-src="vendor/aq5th-trl/index.html"
        loading="lazy"
        style="width:100%;height:900px;border:none;display:block;"
        scrolling="no"
        frameborder="0"
        allowtransparency="true"
      ></iframe>
    </section>

    <!-- VIDEO Section (embedded via iframe) -->
    <section id="video-embed" style="width:100%;overflow:hidden;background:#000000;position:relative;z-index:10;min-height:900px;">
      <iframe
        id="video-iframe"
        data-src="vendor/aq6th-video/index.html"
        loading="lazy"
        style="width:100%;height:900px;border:none;display:block;"
        scrolling="no"
        frameborder="0"
        allowtransparency="true"
      ></iframe>
    </section>

    <!-- PERF: Removed 6 empty placeholder sections (se4, se5, se6 x2, se7, footer) -->
    <div class="footer2" style="position:relative;z-index:10;">
      <div class="footer-2">
        <div class="text-block-3">AQUINTAQA® – Pre-NDA public website.</div>
        <div class="div-block-3">
          <a href="privacy.html">Privacy Policy</a>
          <a href="privacy.html#cookies">Cookies Policy</a>
          <a href="legal.html">Terms of Use</a>
          <a href="contact.html">Contact</a>
          <a href="#" onclick="openCookieSettings();return false;" style="opacity:.7">Cookie Settings</a>
        </div>
      </div>
    </div>
  </div>
  <!-- PERF: defer scripts to not block HTML parsing -->
  <script defer src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=69396814efaae5adc8efcc0f" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script defer src="js/webflow.js" type="text/javascript"></script>

  <!-- PERF: Spline Lazy Loader + Auto Hide on Scroll to save GPU -->
  <script>
  (function() {
    'use strict';
    var isMobile = window.innerWidth < 768;
    var splineEl = document.getElementById('spline-scene');

    // ─── SPLINE (desktop/tablet only) ───
    // Weak hardware: show CSS fallback immediately, skip Spline entirely.
    // Capable hardware: load Spline normally, show fallback only on failure.
    if (splineEl && !isMobile) {
      var splineContainer = document.querySelector('.spline-content');
      var splineUrl = splineEl.getAttribute('data-spline-url-lazy');
      var fallbackEl = document.getElementById('sphere-fallback');
      var canvas = splineEl.querySelector('canvas');
      var isLoaded = false;
      var aborted = false;

      if (splineContainer) splineContainer.classList.remove('hidden');

      function hasWebGL() {
        try {
          var c = document.createElement('canvas');
          // failIfMajorPerformanceCaveat: reject software / extremely slow renderers
          var gl = c.getContext('webgl2', {failIfMajorPerformanceCaveat: true})
                || c.getContext('webgl',  {failIfMajorPerformanceCaveat: true})
                || c.getContext('experimental-webgl', {failIfMajorPerformanceCaveat: true});
          if (!gl) return false;
          // Reject known software renderers by name
          var dbg = gl.getExtension('WEBGL_debug_renderer_info');
          if (dbg) {
            var r = gl.getParameter(dbg.UNMASKED_RENDERER_WEBGL);
            if (/swiftshader|llvmpipe|software|basic render/i.test(r)) {
              var ext = gl.getExtension('WEBGL_lose_context'); if (ext) ext.loseContext();
              return false;
            }
          }
          var ext = gl.getExtension('WEBGL_lose_context'); if (ext) ext.loseContext();
          return true;
        } catch(e) { return false; }
      }

      // Detect weak hardware: low cores or low memory → skip heavy 3D
      function isWeakHardware() {
        var cores = navigator.hardwareConcurrency || 4;
        var mem = navigator.deviceMemory || 8; // default 8 if API unavailable
        return cores <= 2 || mem <= 2;
      }

      var reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      var saveData = !!(navigator.connection && navigator.connection.saveData);

      function showFallback() {
        if (fallbackEl) fallbackEl.classList.add('visible');
        if (canvas) canvas.style.visibility = 'hidden';
      }

      function hideFallback() {
        if (!fallbackEl) return;
        fallbackEl.classList.add('fade-out');
        setTimeout(function() {
          fallbackEl.classList.remove('visible', 'fade-out');
        }, 600);
      }

      function killSpline() {
        splineEl.removeAttribute('data-spline-url');
        splineEl.removeAttribute('data-spline-url-lazy');
        if (canvas) canvas.style.display = 'none';
      }

      // Weak/unsupported hardware → show fallback immediately, skip Spline
      if (!hasWebGL() || saveData || reduceMotion || isWeakHardware()) {
        showFallback();
        killSpline();
      } else {
        // Capable hardware → load Spline, fallback stays hidden unless Spline fails
        var isInViewport = true;

        if (canvas) {
          canvas.addEventListener('webglcontextlost', function(e) {
            e.preventDefault(); showFallback(); aborted = true;
          }, false);
          canvas.addEventListener('webglcontextrestored', function() { hideFallback(); }, false);
        }

        var retryCount = 0;
        var maxRetries = 20; // 5 seconds of retries (20 × 250ms)

        function initSpline() {
          if (isLoaded || !splineUrl || aborted) return;
          if (!window.Webflow || !window.Webflow.require) {
            retryCount++;
            if (retryCount >= maxRetries) {
              aborted = true;
              showFallback();
              killSpline();
              return;
            }
            setTimeout(initSpline, 250);
            return;
          }
          isLoaded = true;
          splineEl.setAttribute('data-spline-url', splineUrl);
          try {
            var s = window.Webflow.require('spline');
            if (s && s.init) s.init();
          } catch(e) {
            showFallback();
            killSpline();
            return;
          }
          // After 4s check if Spline actually rendered
          setTimeout(function() {
            if (aborted) return;
            if (!canvas || canvas.clientWidth < 100 || canvas.clientHeight < 100) {
              showFallback();
              killSpline();
            }
          }, 4000);
        }

        // Hard abort: if Spline scene hasn't rendered in 8s, give up and show fallback
        // NOTE: isLoaded means "Webflow JS module found", NOT "3D scene rendered".
        // Check Performance API for actual .splinecode file download instead.
        setTimeout(function() {
          if (aborted) return;
          var sceneFileLoaded = false;
          try {
            var resources = performance.getEntriesByType('resource');
            for (var i = 0; i < resources.length; i++) {
              if (resources[i].name.indexOf('splinecode') !== -1) {
                sceneFileLoaded = true;
                break;
              }
            }
          } catch(e) { sceneFileLoaded = true; /* assume ok if API unavailable */ }
          if (!sceneFileLoaded) {
            aborted = true;
            showFallback();
            killSpline();
          }
        }, 8000);

        function updateHeroVisibility() {
          var vis = isInViewport && !document.hidden;
          if (splineContainer) splineContainer.classList.toggle('hidden', !vis);
          if (canvas && !aborted) canvas.style.visibility = vis ? 'visible' : 'hidden';
        }

        var obs = new IntersectionObserver(function(entries) {
          entries.forEach(function(entry) {
            isInViewport = entry.isIntersecting;
            updateHeroVisibility();
            if (entry.isIntersecting && !isLoaded && !aborted) initSpline();
          });
        }, { rootMargin: '0px', threshold: 0.05 });
        obs.observe(splineEl);

        var scheduleInit = window.requestIdleCallback || function(cb) { setTimeout(cb, 200); };
        scheduleInit(function() { if (!isLoaded && !aborted) initSpline(); }, { timeout: 3000 });

        document.addEventListener('visibilitychange', function() {
          updateHeroVisibility();
        }, false);
      }
    }

    // ─── IFRAME LAZY LOADER ───
    // Mobile: load only when close, unload when far away (saves RAM on Android)
    // Desktop: load once when near, never unload
    if ('IntersectionObserver' in window) {
      var loadMargin  = isMobile ? '300px'  : '200px';
      var unloadMargin = '800px';

      // Load observer
      var iframeLoadObs = new IntersectionObserver(function(entries) {
        entries.forEach(function(entry) {
          if (!entry.isIntersecting) return;
          var iframe = entry.target;
          var src = iframe.getAttribute('data-src');
          if (src && !iframe.src) {
            iframe.src = src;
          }
          if (!isMobile) iframeLoadObs.unobserve(iframe);
        });
      }, { rootMargin: loadMargin, threshold: 0 });

      document.querySelectorAll('iframe[data-src]').forEach(function(iframe) {
        iframeLoadObs.observe(iframe);
      });

      // Mobile: unload iframes that are far off-screen
      if (isMobile) {
        var iframeUnloadObs = new IntersectionObserver(function(entries) {
          entries.forEach(function(entry) {
            if (entry.isIntersecting) return;
            var iframe = entry.target;
            // Don't unload if it was never loaded
            if (iframe.src && iframe.getAttribute('data-src')) {
              iframe.removeAttribute('src');
            }
          });
        }, { rootMargin: unloadMargin, threshold: 0 });

        document.querySelectorAll('iframe[data-src]').forEach(function(iframe) {
          iframeUnloadObs.observe(iframe);
        });
      }
    }

    // ─── VIDEO SECTION ───
    // Mobile: completely remove/restore iframe src (no decode overhead when hidden)
    // Desktop: just fade opacity and pause/play
    (function() {
      var videoSection = document.getElementById('video-embed');
      var videoIframe  = document.getElementById('video-iframe');
      if (!videoSection || !videoIframe || !('IntersectionObserver' in window)) return;

      var videoSrc = videoIframe.getAttribute('data-src') || videoIframe.getAttribute('src');
      var videoLoaded = false;

      if (isMobile) {
        // Start completely unloaded on mobile
        videoIframe.removeAttribute('src');
        videoSection.style.opacity = '1';

        var mobileVideoObs = new IntersectionObserver(function(entries) {
          entries.forEach(function(entry) {
            if (entry.isIntersecting) {
              if (!videoIframe.src && videoSrc) {
                videoIframe.src = videoSrc;
                videoLoaded = true;
              }
            } else {
              // Unload video when scrolled away — free decoder + RAM
              if (videoIframe.src) {
                videoIframe.removeAttribute('src');
                videoLoaded = false;
              }
            }
          });
        }, { rootMargin: '150px', threshold: 0 });
        mobileVideoObs.observe(videoSection);

      } else {
        // Desktop: smooth fade, play/pause
        videoSection.style.opacity = '0';
        videoSection.style.transition = 'opacity 0.45s ease';

        var desktopVideoObs = new IntersectionObserver(function(entries) {
          entries.forEach(function(entry) {
            if (entry.isIntersecting) {
              videoSection.style.opacity = '1';
              try { var v = videoIframe.contentDocument && videoIframe.contentDocument.querySelector('video'); if (v) v.play().catch(function(){}); } catch(e) {}
            } else {
              videoSection.style.opacity = '0';
              try { var v = videoIframe.contentDocument && videoIframe.contentDocument.querySelector('video'); if (v) v.pause(); } catch(e) {}
            }
          });
        }, { rootMargin: '0px', threshold: 0.15 });
        desktopVideoObs.observe(videoSection);
      }
    })();
  })();


  </script>

  <!--  FOOTER CODE  -->
  <script src="js/consent.js"></script>
  <script>
  function openCookieSettings(){
    var o=document.getElementById('cc-overlay');
    if(o){o.classList.add('visible')}else{try{localStorage.removeItem('cookie_consent_v2')}catch(e){}window.location.reload()}
  }
  </script>

  <!-- BACK TO TOP button -->
  <button id="back-to-top" aria-label="Back to top" onclick="window.scrollTo({top:0,behavior:'smooth'})">
    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M9 13V5M9 5L5 9M9 5L13 9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>
  <style>
    #back-to-top {
      position: fixed;
      bottom: 28px;
      right: 24px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.18);
      color: rgba(255,255,255,0.80);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9000;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.3s, transform 0.3s, background 0.2s;
      pointer-events: none;
    }
    #back-to-top.visible {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }
    #back-to-top:hover {
      background: rgba(255,255,255,0.18);
      color: #fff;
    }
    @media (max-width: 767px) {
      #back-to-top {
        bottom: 20px;
        right: 16px;
        width: 36px;
        height: 36px;
      }
    }
  </style>
  <script>
  (function() {
    var btn = document.getElementById('back-to-top');
    if (!btn) return;
    window.addEventListener('scroll', function() {
      if (window.scrollY > 400) {
        btn.classList.add('visible');
      } else {
        btn.classList.remove('visible');
      }
    }, { passive: true });
  })();
  </script>

  <!-- NAV: remove data-w-id from navbar BEFORE webflow.js (defer) runs.
       Inline scripts execute before defer scripts, so IX2 never finds
       the element and never resets it to opacity:0. No flash, no delay. -->
  <script>
  (function () {
    var nav = document.querySelector('.menu.w-nav');
    if (nav) {
      nav.removeAttribute('data-w-id');
      nav.style.opacity = '1';
      nav.style.visibility = 'visible';
    }
  })();
  </script>

  <!-- LANG SWITCHER — pure inline-style toggling, zero CSS dependency -->
  <script>
  (function(){
    'use strict';

    /* ── Selectors for ORIGINAL EN elements (no classes added to them) ── */
    var enSelectors = [
      '.content-img > .text-block:not(.lang-ru)',
      '.content-img > .div-block-17:not(.lang-ru)',
      '.colum-r > .h1:not(.lang-ru)',
      '.colum-r > .text:not(.lang-ru)',
      '.sphere-poster__stats:not(.lang-ru)',
      '.sphere-poster__caption:not(.lang-ru)'
    ].join(',');

    function applyLang(lang) {
      try { localStorage.setItem('ui_lang', lang); } catch(e) {}

      var isRu = (lang === 'ru');

      /* Show / hide RU duplicates */
      var ruEls = document.querySelectorAll('.lang-ru');
      for (var i = 0; i < ruEls.length; i++) {
        ruEls[i].style.cssText = isRu ? '' : 'display:none !important';
      }

      /* Show / hide original EN elements */
      var enEls = document.querySelectorAll(enSelectors);
      for (var i = 0; i < enEls.length; i++) {
        enEls[i].style.cssText = isRu ? 'display:none !important' : '';
      }

      /* Highlight active option */
      var optEn = document.getElementById('lang-opt-en');
      var optRu = document.getElementById('lang-opt-ru');
      if (optEn) { optEn.style.opacity = isRu ? '0.4' : '1'; optEn.style.fontWeight = isRu ? '400' : '700'; }
      if (optRu) { optRu.style.opacity = isRu ? '1' : '0.4'; optRu.style.fontWeight = isRu ? '700' : '400'; }

      /* Close Webflow dropdown after click */
      var dd = document.querySelector('.navbar .dropdown-list-lang');
      if (dd) dd.classList.remove('w--open');
      var wrap = document.querySelector('.navbar > .w-dropdown');
      if (wrap) wrap.classList.remove('w--open');

      /* Broadcast to all iframes */
      document.querySelectorAll('iframe').forEach(function(fr) {
        try { fr.contentWindow.postMessage({ type: 'setLang', lang: lang }, '*'); } catch(e) {}
      });
    }

    window.setLang = applyLang;

    /* On load — always start with EN (RU elements already display:none in HTML) */
    var saved;
    try { saved = localStorage.getItem('ui_lang'); } catch(e) {}
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', function(){ applyLang(saved === 'ru' ? 'ru' : 'en'); });
    } else {
      applyLang(saved === 'ru' ? 'ru' : 'en');
    }
  })();
  </script>
</body>
</html>
